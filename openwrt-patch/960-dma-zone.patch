--- a/dev/null	2015-11-13 18:34:43.548795455 +0800
+++ b/target/linux/ar71xx/patches-3.10/960-dma-zone.patch	2015-11-13 18:57:31.224346517 +0800
@@ -0,0 +1,11 @@
+--- a/arch/mips/mm/dma-default.c	2015-11-05 20:06:14.000000000 +0800
++++ b/arch/mips/mm/dma-default.c	2015-11-13 18:47:09.899578860 +0800
+@@ -86,7 +86,7 @@ static gfp_t massage_gfp_flags(const str
+ 	else
+ #endif
+ #if defined(CONFIG_ZONE_DMA) && !defined(CONFIG_ZONE_DMA32)
+-	     if (dev->coherent_dma_mask < DMA_BIT_MASK(64))
++	     if (dev->coherent_dma_mask < DMA_BIT_MASK(sizeof(phys_addr_t) * 8))
+ 		dma_flag = __GFP_DMA;
+ 	else
+ #endif
